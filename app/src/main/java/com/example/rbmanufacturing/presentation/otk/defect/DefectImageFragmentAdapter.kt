package com.example.rbmanufacturing.presentation.otk.defect

import android.content.Context
import android.graphics.BitmapFactory
import android.util.Base64
import android.util.Log
import android.view.LayoutInflater
import android.view.View
import android.view.ViewGroup
import android.widget.ImageView
import androidx.recyclerview.widget.RecyclerView
import com.example.rbmanufacturing.R
import com.example.rbmanufacturing.util.ImageUtil

class DefectImageFragmentAdapter(context: Context, val callback: (rowid: Int?)-> Unit): RecyclerView.Adapter<DefectImageFragmentAdapter.ViewHolder>()  {

    val inflater: LayoutInflater = LayoutInflater.from(context)
    var t_items = mutableListOf<String>()

    //test
    //val strBase64 = "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"
    //val decodeBytes = Base64.decode(strBase64, Base64.DEFAULT)
    //val bm = BitmapFactory.decodeByteArray(decodeBytes, 0, decodeBytes.size-1)

    inner class ViewHolder(view: View): RecyclerView.ViewHolder(view) {

        val imgFoto = view.findViewById<ImageView>(R.id.imgViewDefect)

        fun bind(item: String) {

            //Log.d("MYLOG", item)

            val decodeBytes = Base64.decode(item, Base64.DEFAULT)
            val bm = BitmapFactory.decodeByteArray(decodeBytes, 0, decodeBytes.size-1)

            //imgFoto.setImageResource(R.drawable.baseline_photo_camera_24)

           imgFoto.setImageBitmap(bm)

            itemView.setOnClickListener {
                callback(adapterPosition)
            }

        }

    }

    internal fun setItems(items: MutableList<String>) {
        this.t_items = items
        this.notifyDataSetChanged()
    }

    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): DefectImageFragmentAdapter.ViewHolder {
        return ViewHolder(inflater.inflate(R.layout.rowitem_foto_defect,parent,false))
    }

    override fun onBindViewHolder(holder: DefectImageFragmentAdapter.ViewHolder, position: Int) {
        val item = t_items[position]
        holder.bind(item)
    }

    override fun getItemCount(): Int {
        return t_items.size
    }



}